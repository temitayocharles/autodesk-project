# ğŸ—ï¸ Architecture Overview

## System Architecture Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              CLIENT LAYER                                â”‚
â”‚                                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Web    â”‚  â”‚ Mobile  â”‚  â”‚ Desktop  â”‚  â”‚   API   â”‚  â”‚   CLI    â”‚   â”‚
â”‚  â”‚ Browser â”‚  â”‚   App   â”‚  â”‚   App    â”‚  â”‚ Clients â”‚  â”‚  Tools   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚            â”‚            â”‚             â”‚            â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚      API GATEWAY          â”‚
                    â”‚        (Nginx)            â”‚
                    â”‚  - Load Balancing         â”‚
                    â”‚  - Rate Limiting          â”‚
                    â”‚  - SSL Termination        â”‚
                    â”‚  - Request Routing        â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚                     â”‚                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Data Ingestion     â”‚ â”‚ Data Processing â”‚ â”‚   Data API         â”‚
â”‚     Service         â”‚ â”‚    Service      â”‚ â”‚    Service         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   FastAPI     â”‚  â”‚ â”‚ â”‚     Go      â”‚ â”‚ â”‚ â”‚     Flask      â”‚ â”‚
â”‚  â”‚   (Python)    â”‚  â”‚ â”‚ â”‚  Workers    â”‚ â”‚ â”‚ â”‚   (Python)     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚          â”‚          â”‚ â”‚        â”‚        â”‚ â”‚          â”‚         â”‚
â”‚  - File Uploads     â”‚ â”‚ - Async         â”‚ â”‚ - REST API        â”‚
â”‚  - Validation       â”‚ â”‚ - Processing    â”‚ â”‚ - Caching         â”‚
â”‚  - S3 Upload        â”‚ â”‚ - Goroutines    â”‚ â”‚ - Rate Limiting   â”‚
â”‚  - DB Storage       â”‚ â”‚ - Queue         â”‚ â”‚ - Pagination      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                      â”‚                     â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                        â”‚                        â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PostgreSQL   â”‚      â”‚    RabbitMQ      â”‚    â”‚     Redis       â”‚
â”‚   Database    â”‚      â”‚  Message Queue   â”‚    â”‚     Cache       â”‚
â”‚               â”‚      â”‚                  â”‚    â”‚                 â”‚
â”‚ - Metadata    â”‚      â”‚ - Async Jobs     â”‚    â”‚ - API Cache     â”‚
â”‚ - Files Info  â”‚      â”‚ - Pub/Sub        â”‚    â”‚ - Session Store â”‚
â”‚ - Projects    â”‚      â”‚ - Worker Queue   â”‚    â”‚ - Rate Limit    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚      AWS S3          â”‚
                    â”‚  Object Storage      â”‚
                    â”‚                      â”‚
                    â”‚  - CAD Files         â”‚
                    â”‚  - BIM Models        â”‚
                    â”‚  - Documents         â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Observability Stack

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     MONITORING & LOGGING                         â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Prometheus  â”‚â—„â”€â”€â”€â”‚  Services    â”‚    â”‚      Loki       â”‚  â”‚
â”‚  â”‚   (Metrics)  â”‚    â”‚  (Exporters) â”‚    â”‚  (Logs)         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚         â”‚                                           â”‚           â”‚
â”‚         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚           â”‚
â”‚         â””â”€â–ºâ”‚          Grafana                    â”‚â”‚           â”‚
â”‚            â”‚     (Visualization)                 â”‚â—„â”˜           â”‚
â”‚            â”‚                                     â”‚             â”‚
â”‚            â”‚  - Dashboards                       â”‚             â”‚
â”‚            â”‚  - Alerts                           â”‚             â”‚
â”‚            â”‚  - Analytics                        â”‚             â”‚
â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## CI/CD Pipeline

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           JENKINS CI/CD                              â”‚
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚   Code   â”‚â”€â–ºâ”‚  Build   â”‚â”€â–ºâ”‚   Test   â”‚â”€â–ºâ”‚  Scan    â”‚           â”‚
â”‚  â”‚ Checkout â”‚  â”‚  Docker  â”‚  â”‚  Units   â”‚  â”‚ Security â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                    â”‚                 â”‚
â”‚                                              â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚                                              â”‚  Deploy to â”‚         â”‚
â”‚                                              â”‚ Kubernetes â”‚         â”‚
â”‚                                              â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                    â”‚                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ Rollback â”‚â—„â”€â”‚  Verify  â”‚â—„â”€â”‚    Smoke Tests          â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Kubernetes Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ KUBERNETES CLUSTER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ NAMESPACE: aec-data â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚  â”‚                      INGRESS CONTROLLER                        â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  - External Traffic Entry Point                                â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  - TLS Termination                                             â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  - Routing Rules                                               â”‚ â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â”‚                            â”‚                                        â”‚   â”‚
â”‚  â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚   â”‚
â”‚  â”‚     â”‚                      â”‚                      â”‚                â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚   â”‚
â”‚  â”‚  â”‚  Service    â”‚  â”‚   Service     â”‚  â”‚    Service        â”‚       â”‚   â”‚
â”‚  â”‚  â”‚ (ClusterIP) â”‚  â”‚  (ClusterIP)  â”‚  â”‚   (ClusterIP)     â”‚       â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚   â”‚
â”‚  â”‚         â”‚                 â”‚                      â”‚                â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚   â”‚
â”‚  â”‚  â”‚ Deployment  â”‚  â”‚  Deployment   â”‚  â”‚   Deployment      â”‚       â”‚   â”‚
â”‚  â”‚  â”‚  Replicas:2 â”‚  â”‚   Replicas:3  â”‚  â”‚    Replicas:2     â”‚       â”‚   â”‚
â”‚  â”‚  â”‚             â”‚  â”‚               â”‚  â”‚                   â”‚       â”‚   â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”     â”‚  â”‚  â”Œâ”€â”€â”€â”€â”       â”‚  â”‚   â”Œâ”€â”€â”€â”€â”         â”‚       â”‚   â”‚
â”‚  â”‚  â”‚  â”‚Pod â”‚     â”‚  â”‚  â”‚Pod â”‚       â”‚  â”‚   â”‚Pod â”‚         â”‚       â”‚   â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”˜     â”‚  â”‚  â””â”€â”€â”€â”€â”˜       â”‚  â”‚   â””â”€â”€â”€â”€â”˜         â”‚       â”‚   â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”     â”‚  â”‚  â”Œâ”€â”€â”€â”€â”       â”‚  â”‚   â”Œâ”€â”€â”€â”€â”         â”‚       â”‚   â”‚
â”‚  â”‚  â”‚  â”‚Pod â”‚     â”‚  â”‚  â”‚Pod â”‚       â”‚  â”‚   â”‚Pod â”‚         â”‚       â”‚   â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”˜     â”‚  â”‚  â””â”€â”€â”€â”€â”˜       â”‚  â”‚   â””â”€â”€â”€â”€â”˜         â”‚       â”‚   â”‚
â”‚  â”‚  â”‚             â”‚  â”‚  â”Œâ”€â”€â”€â”€â”       â”‚  â”‚                   â”‚       â”‚   â”‚
â”‚  â”‚  â”‚ Ingestion   â”‚  â”‚  â”‚Pod â”‚       â”‚  â”‚   API             â”‚       â”‚   â”‚
â”‚  â”‚  â”‚ Service     â”‚  â”‚  â””â”€â”€â”€â”€â”˜       â”‚  â”‚   Service         â”‚       â”‚   â”‚
â”‚  â”‚  â”‚             â”‚  â”‚               â”‚  â”‚                   â”‚       â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ Processing    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚   â”‚
â”‚  â”‚                   â”‚  Service      â”‚                              â”‚   â”‚
â”‚  â”‚                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                              â”‚   â”‚
â”‚  â”‚                                                                   â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ STATEFUL SETS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚  â”‚                                                              â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  â”‚PostgreSQLâ”‚  â”‚  Redis   â”‚  â”‚ RabbitMQ â”‚                  â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  â”‚          â”‚  â”‚          â”‚  â”‚          â”‚                  â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â” â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â” â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â” â”‚                  â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  â”‚ â”‚ PVC  â”‚ â”‚  â”‚ â”‚ PVC  â”‚ â”‚  â”‚ â”‚ PVC  â”‚ â”‚                  â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”˜ â”‚                  â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚ â”‚   â”‚
â”‚  â”‚  â”‚                                                              â”‚ â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â”‚                                                                   â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ CONFIG & SECRETS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚  â”‚                                                              â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  â”‚ConfigMap â”‚        â”‚ Secrets  â”‚                          â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  â”‚          â”‚        â”‚          â”‚                          â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  â”‚ - DB URL â”‚        â”‚ - AWS    â”‚                          â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  â”‚ - Cache  â”‚        â”‚ - Creds  â”‚                          â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚ â”‚   â”‚
â”‚  â”‚  â”‚                                                              â”‚ â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â”‚                                                                   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ MONITORING NAMESPACE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                                                                    â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚   â”‚
â”‚  â”‚  â”‚ Prometheus â”‚    â”‚ Grafana  â”‚    â”‚   Loki   â”‚                 â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚   â”‚
â”‚  â”‚                                                                    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Data Flow

### 1. File Upload Flow
```
Client â†’ Nginx â†’ Ingestion Service â†’ PostgreSQL (metadata)
                      â†“
                    AWS S3 (file storage)
                      â†“
                  RabbitMQ (publish message)
                      â†“
              Processing Service (workers consume)
```

### 2. API Query Flow
```
Client â†’ Nginx â†’ API Service â†’ Redis Cache (check)
                      â†“             â†“
                      â”œâ”€â”€â”€ HIT â”€â”€â”€â”€â”€â”˜ (return cached)
                      â”‚
                      â””â”€â”€â”€ MISS â†’ PostgreSQL (query)
                                     â†“
                                Redis (cache result)
                                     â†“
                                Client (return)
```

### 3. Metrics Flow
```
Services â†’ Prometheus (scrape metrics)
              â†“
          Grafana (visualize)
              â†“
          Alerts (notify)
```

## Security Layers

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      SECURITY LAYERS                         â”‚
â”‚                                                               â”‚
â”‚  Layer 1: Network                                             â”‚
â”‚  â”œâ”€ Firewall Rules                                            â”‚
â”‚  â”œâ”€ Network Policies                                          â”‚
â”‚  â””â”€ TLS/SSL Encryption                                        â”‚
â”‚                                                               â”‚
â”‚  Layer 2: Application                                         â”‚
â”‚  â”œâ”€ Authentication (JWT)                                      â”‚
â”‚  â”œâ”€ Authorization (RBAC)                                      â”‚
â”‚  â”œâ”€ Input Validation                                          â”‚
â”‚  â””â”€ Rate Limiting                                             â”‚
â”‚                                                               â”‚
â”‚  Layer 3: Container                                           â”‚
â”‚  â”œâ”€ Non-root Users                                            â”‚
â”‚  â”œâ”€ Read-only Filesystem                                      â”‚
â”‚  â”œâ”€ Security Scanning (Trivy)                                â”‚
â”‚  â””â”€ Minimal Base Images                                       â”‚
â”‚                                                               â”‚
â”‚  Layer 4: Kubernetes                                          â”‚
â”‚  â”œâ”€ RBAC Policies                                             â”‚
â”‚  â”œâ”€ Pod Security Standards                                    â”‚
â”‚  â”œâ”€ Network Policies                                          â”‚
â”‚  â””â”€ Secrets Management                                        â”‚
â”‚                                                               â”‚
â”‚  Layer 5: Infrastructure                                      â”‚
â”‚  â”œâ”€ HashiCorp Vault                                           â”‚
â”‚  â”œâ”€ AWS IAM                                                   â”‚
â”‚  â”œâ”€ Audit Logging                                             â”‚
â”‚  â””â”€ Compliance Scanning                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Technology Stack Summary

### Programming Languages
- **Python 3.11** - Ingestion & API services
- **Go 1.21** - Processing service
- **Shell/Bash** - Automation scripts

### Frameworks & Libraries
- **FastAPI** - Async web framework
- **Flask** - REST API framework
- **Goroutines** - Concurrent processing

### Databases & Storage
- **PostgreSQL 16** - Relational database
- **Redis 7** - Cache & rate limiting
- **AWS S3** - Object storage

### Message Queue
- **RabbitMQ 3.12** - Async message broker

### Containerization
- **Docker** - Containerization
- **Docker Compose** - Local orchestration

### Orchestration
- **Kubernetes** - Container orchestration
- **Helm** - Package management

### CI/CD
- **Jenkins** - Automation server
- **Git** - Version control

### Monitoring & Logging
- **Prometheus** - Metrics collection
- **Grafana** - Visualization
- **Loki** - Log aggregation

### Infrastructure as Code
- **Terraform** - Infrastructure provisioning
- **Ansible** - Configuration management

### Security
- **HashiCorp Vault** - Secrets management
- **Trivy** - Container scanning
- **RBAC** - Access control

### Networking
- **Nginx** - Reverse proxy / load balancer
- **Ingress** - Kubernetes traffic routing

### Cloud Services
- **AWS S3** - File storage
- **AWS IAM** - Access management

## Resource Requirements

### Minimum for Development
- **RAM:** 8GB (16GB recommended)
- **CPU:** 4 cores
- **Disk:** 20GB free space
- **Network:** Broadband internet for downloads

### Running Services (Local)
```
PostgreSQL:  ~250MB RAM
Redis:       ~50MB RAM
RabbitMQ:    ~200MB RAM
Services:    ~500MB RAM each
K8s:         ~2GB RAM
Monitoring:  ~1GB RAM
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Total:       ~6GB RAM
```

## Port Mapping

```
Service                    Port    Purpose
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
API Gateway (Nginx)        8080    Main entry point
Data Ingestion Service     8000    File uploads
Data Processing Service    8081    Health checks
Data Processing Metrics    9091    Prometheus metrics
Data API Service           8002    REST API
PostgreSQL                 5432    Database
Redis                      6379    Cache
RabbitMQ                   5672    AMQP
RabbitMQ Management        15672   Web UI
Prometheus                 9090    Metrics query
Grafana                    3000    Dashboards
Loki                       3100    Logs
Jenkins                    8080    CI/CD (if running locally)
```

## Environment Configurations

### Development (Docker Compose)
- Local databases
- Hot reload enabled
- Debug logging
- Relaxed security
- Single replicas

### Staging/Production (Kubernetes)
- Managed databases (or StatefulSets)
- Multiple replicas
- Info/Warn logging
- Full security enabled
- Autoscaling configured
- Monitoring alerts active

## Key Design Decisions

### Why Python for Ingestion?
- Rich ecosystem (boto3, FastAPI)
- Async capabilities
- Easy integration with AWS
- Rapid development

### Why Go for Processing?
- Superior concurrency (goroutines)
- Low memory footprint
- Fast execution
- Excellent for CPU-intensive tasks

### Why Microservices?
- Independent scaling
- Technology optimization
- Team autonomy
- Fault isolation

### Why RabbitMQ?
- Reliable message delivery
- Multiple patterns (pub/sub, work queues)
- Management UI
- Kubernetes-friendly

### Why Redis?
- Fast in-memory cache
- Rate limiting support
- Pub/sub capabilities
- Simple to operate

---

**This architecture demonstrates production-ready design patterns used by companies like Autodesk for their AEC data platforms.**
